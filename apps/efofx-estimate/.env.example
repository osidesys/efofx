# efOfX Estimation Service - Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
DEBUG=false
APP_NAME=efOfX Estimation Service
VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production

# =============================================================================
# SERVER SETTINGS
# =============================================================================
HOST=0.0.0.0
PORT=8000

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# Generate a secure random secret key for JWT signing
# Example: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_SECRET_KEY=your-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Configuration
ALLOWED_HOSTS=["*"]
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# =============================================================================
# DATABASE (MongoDB Atlas)
# =============================================================================
# MongoDB connection string
# Atlas format: mongodb+srv://username:password@cluster.mongodb.net/database
# Local format: mongodb://localhost:27017/efofx_estimate
MONGO_URI=mongodb://localhost:27017/efofx_estimate
MONGO_DB_NAME=efofx_estimate

# =============================================================================
# LLM INTEGRATION (OpenAI)
# =============================================================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# =============================================================================
# BYOK (Bring Your Own Key) ENCRYPTION
# =============================================================================
# Fernet encryption key for tenant API key encryption
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-fernet-encryption-key-here

# =============================================================================
# ERROR TRACKING (Sentry - Optional, currently disabled)
# =============================================================================
# Sentry integration removed in favor of structured logging via structlog
# Uncomment and install sentry-sdk[fastapi] if needed
# SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id
# SENTRY_ENVIRONMENT=development  # development, staging, production
# SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions sampled

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60  # requests per minute per tenant

# =============================================================================
# ESTIMATION SETTINGS
# =============================================================================
MAX_ESTIMATION_SESSIONS=100
SESSION_TIMEOUT_MINUTES=30

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_IMAGE_TYPES=["image/jpeg", "image/png", "image/webp"]

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
